#!/bin/bash

title='

‚ñà‚ñÑ‚ñÑ‚ñÑ‚ñÑ ‚ñà‚ñà‚ñà‚ñà‚ñÑ ‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà‚ñà‚ñÑ  ‚ñÑ  ‚ñà ‚ñÑ‚ñà‚ñà‚ñà‚ñÑ   ‚ñà    ‚ñà ‚ñÑ‚ñÑ
‚ñà  ‚ñÑ‚ñÄ ‚ñà   ‚ñà ‚ñà  ‚ñà  ‚ñà   ‚ñà ‚ñà   ‚ñà ‚ñà‚ñÄ   ‚ñÄ  ‚ñà    ‚ñà   ‚ñà
‚ñà‚ñÄ‚ñÄ‚ñå  ‚ñà   ‚ñà ‚ñà ‚ñÄ ‚ñÑ ‚ñà   ‚ñà ‚ñà‚ñà‚ñÄ‚ñÄ‚ñà ‚ñà‚ñà‚ñÑ‚ñÑ    ‚ñà    ‚ñà‚ñÄ‚ñÄ‚ñÄ
‚ñà  ‚ñà  ‚ñÄ‚ñà‚ñà‚ñà‚ñà ‚ñà  ‚ñÑ‚ñÄ ‚ñÄ‚ñà‚ñà‚ñà‚ñà ‚ñà   ‚ñà ‚ñà‚ñÑ   ‚ñÑ‚ñÄ ‚ñà‚ñà‚ñà‚ñÑ ‚ñà
  ‚ñà         ‚ñà‚ñà‚ñà            ‚ñà  ‚ñÄ‚ñà‚ñà‚ñà‚ñÄ       ‚ñÄ ‚ñà
 ‚ñÄ                        ‚ñÄ                  ‚ñÄ
'

bb8='‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚°Ä‚†ê‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚°á‚†Ä‚†á‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢∏‚£Ä‚£∏‚£Ä‚£Ä‚£Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†¥‚†æ‚†ø‚†ø‚†ø‚†õ‚†ã‚†Å‚†Ä‚£†‚£¥‚†Ü‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚£†‚£Ñ‚£Ä‚£Ä‚£Ä‚£Ä‚£Ä‚£§‚£§‚£¥‚†∂‚†õ‚¢ã‚£°‚£¥‚£ø‚£∑‚£Ñ‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚£§‚£¨‚£â‚£â‚£â‚£â‚°ü‚£Å‚†Ä‚†Ä‚†à‚†ô‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ß‚°Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚£º‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚°Ä‚†õ‚†Ä‚†Ä‚†Ä‚†Ä‚£ø‚£ø‚†ã‚†â‚†ô‚¢ø‚£ø‚£ø‚£ß‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£∑‚£Ñ‚°Ä‚†Ä‚£Ä‚£¥‚£ø‚£á‚†Ä‚†Ä‚†Ä‚£∏‚£ø‚£ø‚°ø‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£∂‚£§‚°¥‚†ü‚†õ‚£Å‚†§‚†Ç‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚†ø‚†ø‚†õ‚†õ‚£â‚£°‚†§‚†í‚†ã‚†Å‚¢Ä‚£Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†§‚†¨‚£â‚£â‚£â‚£â‚£†‚†§‚†§‚†§‚†¥‚†í‚†ö‚†â‚†Å‚†Ä‚†Ä‚†Ä‚£§‚£æ‚£ø‚£ø‚£ø‚£∂‚£Ñ‚°Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢Ä‚£¥‚£∂‚£¶‚£§‚£§‚£§‚£§‚£§‚£§‚£§‚£§‚£¥‚£∂‚£∂‚£¶‚°Ä‚†Ä‚†à‚†ô‚¢ø‚£ø‚†ã‚†õ‚£ø‚£ø‚£¶‚°Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚£∞‚£ø‚†ø‚†õ‚†â‚†â‚†â‚†â‚†â‚†õ‚†ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£¶‚£Ñ‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢ø‚£ø‚£ø‚£ø‚£¶‚°Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚£º‚†ü‚†Å‚¢Ä‚£†‚£§‚£§‚£§‚£Ñ‚°Ä‚†Ä‚†Ä‚†à‚†ª‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£∂‚£§‚£Ä‚†Ä‚†Ä‚†Ä‚†â‚†â‚†â‚†Å‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚£º‚†É‚†Ä‚£¥‚£ø‚£ø‚£ø‚£ø‚£ø‚†ü‚†Ä‚¢Ä‚°Ä‚†Ä‚†Ä‚†ô‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£∂‚£¶‚£§‚£Ä‚£Ä‚£Ä‚£Ä‚°Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚£∏‚†á‚†Ä‚†Ä‚¢π‚£ø‚£ø‚£ø‚£ø‚£ø‚£§‚£¥‚£ø‚£ø‚°Ñ‚†Ä‚†Ä‚†∏‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£∑‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢Ä‚£ø‚†Ä‚£ø‚£¶‚£æ‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ß‚†Ä‚†Ä‚†Ä‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚°Ü‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢∏‚°á‚†Ä‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚†Ä‚†Ä‚†Ä‚¢∏‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚†ø‚†ü‚†õ‚†ª‚†ø‚£ø‚°á‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢∏‚£ß‚†Ä‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚†ø‚¢ø‚£ø‚°ø‚†Ä‚†Ä‚†Ä‚£æ‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚†ü‚†ã‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†ò‚°ü‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†à‚£ø‚°Ä‚†∏‚£ø‚°ø‚¢ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£Ñ‚†Ä‚†à‚†Å‚†Ä‚†Ä‚¢Ä‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚†ü‚†Å‚†Ä‚†Ä‚†Ä‚£†‚£§‚£∂‚£¶‚£Ñ‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚¢ø‚£ß‚†Ä‚†ô‚†Ä‚¢∞‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚°∑‚†Ä‚†Ä‚†Ä‚†Ä‚£º‚£ø‚£ø‚£ø‚£ø‚£ø‚°ü‚†Å‚†Ä‚†Ä‚£†‚°Ä‚†Ä‚¢ª‚£ø‚£ø‚£ø‚°ø‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†ò‚£ø‚£∑‚°Ä‚†Ä‚†ò‚†õ‚†ø‚†ø‚†ø‚†õ‚†â‚†Ä‚†Ä‚†Ä‚¢Ä‚£æ‚£ø‚£ø‚£ø‚£ø‚£ø‚†è‚†Ä‚†Ä‚¢Ä‚£¥‚£ø‚£∑‚£§‚£º‚£ø‚£ø‚£ø‚£†‚†Ü‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†ò‚£ø‚£ø‚£¶‚£Ñ‚°Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚£†‚£¥‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚°è‚†Ä‚†Ä‚¢Ä‚£æ‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚†è‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†ò‚¢ø‚£ø‚£ø‚£ø‚£∑‚£∂‚£∂‚£∂‚£æ‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚†Ä‚†Ä‚†Ä‚£æ‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚†ã‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†ª‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚°á‚†Ä‚†Ä‚†ò‚†õ‚†õ‚£π‚£ø‚£ø‚£ø‚£ø‚†ü‚†Å‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†à‚†ô‚¢ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚°á‚†Ä‚†Ä‚¢†‚£∂‚£ø‚£ø‚£ø‚°ø‚†ü‚†Å‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†à‚†õ‚†ª‚¢ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£ø‚£∑‚†Ä‚†Ä‚†à‚†ª‚†ø‚†õ‚†â‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä
  ‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†â‚†â‚†ô‚†õ‚†õ‚†õ‚†õ‚†õ‚†Å‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä‚†Ä'

# Variables
mainloop=0
timestamp=$(date "+%Y-%m-%d %H:%M:%S")

# Colors
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
BLUE='\033[1;34m'
CYAN='\033[0;36m'
NC='\033[0m' # No Color

# Function to print banner
show_banner() {
    echo "$title"
    echo "$bb8"
}

# Function to determine distro
det_release() {
    distro=$(lsb_release -i | cut -f2-)
}

# Main Functions
check_installed() {
    if command -v "$1" &> /dev/null; then
        return 0
    else
	return 1
    fi
}

apt_update() {
    echo -e "${CYAN}üì¶ Running APT Repository update...${NC}"
    sudo apt update -y
    if [ $? -eq 0 ]; then
        echo -e "${GREEN}‚úÖ Updated repositories successfully on $distro.${NC}"
    else
	echo -e "${RED}‚ùå Failed to update repositories on $distro. Exit code: $? ${NC}"
    fi
}

apt_upgrade() {
    echo -e "${CYAN}üì¶ Upgrading installed packages...${NC}"
    sudo apt upgrade -y
    if [ $? -eq 0 ]; then
        echo -e "${GREEN}‚úÖ Installed updates successfully on $distro.${NC}"
    else
        echo -e "${RED}‚ùå Failed to update packages on $distro. Exit code: $? ${NC}"
    fi
}

dist_upgrade() {
    echo -e "${CYAN}üì¶ Upgrading distribution and dependencies...${NC}"
    sudo apt dist-upgrade -y
    if [ $? -eq 0 ]; then
        echo -e "${GREEN}‚úÖ Upgraded distribution successfully.${NC}"
    else
        echo -e "${RED}‚ùå Failed to upgrade $distro. Exit code: $? ${NC}"
    fi
}

apt_autorm() {
    echo -e "${CYAN}üßπ Removing unnecessary packages...${NC}"
    sudo apt autoremove -y
    if [ $? -eq 0 ]; then
        echo -e "${GREEN}‚úÖ Autoremove completed successfully on $distro.${NC}"
    else
        echo -e "${RED}‚ùå Autoremove failed on $distro. Exit code: $? ${NC}"
    fi
}

apt_autocls() {
    echo -e "${CYAN}üßº Cleaning up local repository...${NC}"
    sudo apt autoclean -y
    if [ $? -eq 0 ]; then
        echo -e "${GREEN}‚úÖ Autoclean completed successfully on $distro.${NC}"
    else
        echo -e "${RED}‚ùå Autoclean failed on $distro. Exit code: $? ${NC}"
    fi
}

install_package() {
    local package="$1"
    echo
    echo -e "${CYAN}üì¶ Installing package: $package${NC}"
    sudo apt install -y "$package"
    if [ $? -eq 0 ]; then
	echo -e "${GREEN}‚úÖ $package installed successfully!${NC}"
    else
	echo -e "${RED}‚ùå Failed to install $package.${NC}"
    fi
}

remove_package() {
    local package="$1"
    echo
    echo -e "${CYAN}üì¶ Removing package: $package${NC}"
    sudo apt remove -y "$package"
    if [ $? -eq 0 ]; then
        echo -e "${GREEN}‚úÖ $package removed successfully!${NC}"
    else
        echo -e "${RED}‚ùå Failed to remove $package.${NC}"
    fi
}

purge_package() {
    local package="$1"
    echo
    echo -e "${CYAN}üì¶ Purging package: $package${NC}"
    sudo apt purge -y "$package"
    if [ $? -eq 0 ]; then
        echo -e "${GREEN}‚úÖ $package purged successfully!${NC}"
    else
        echo -e "${RED}‚ùå Failed to purge $package.${NC}"
    fi
}

search_package() {
    local term="$1"
    echo -e "${BLUE}üîç Searching for: $term${NC}"
    apt search "$term"
}


full_upgrade() {
    echo -e "${CYAN}‚öô  Running full upgrade...!${NC}"
    apt_update && \
    apt_upgrade && \
    apt_autorm && \
    apt_autocls && \
    if [ $? -eq 0 ]; then
	echo -e "${GREEN}‚úÖ Full upgrade completed successfully!${NC}"
    else
	echo -e "${GREEN}‚ùå An error occurred during the upgrade. Exit code: $? ${NC}"
    fi
}

# Dev Automation
mv_robohelp() {
    sudo cp robohelp.sh /usr/local/bin/robohelp
}

find_playbook() {
    mapfile -t playbooks < <(find . -type f -name "*.yml")
    loop=-1
    for playbook in "${playbooks[@]}"; do
        ((loop++))
        dir_path=$(dirname "$playbook")
        file_name=$(basename "$playbook")
        printf '[%d] %s\n%s\n\n' "$loop" "$dir_path" "$file_name"
    done
}

check_if_flags() {
    echo ""
}

log_exists() {
    log_path="$HOME/.log/afmrun.log"
    if [ -f "$log_path" ]; then
        return 0
    else
	mkdir -p "$(dirname "$log_path")"
	touch "$log_path"
    fi
}

log_write() {
    case "$1" in
      "scs")
	echo "$timestamp - Successfully ran playbook: ${playbooks[$selected_index]}" >> "$log_path"
 	;;
      "ping")
	echo "$timestamp - Ping ran successfully" >> "$log_path"
	;;
      "fail")
	echo "$timestamp - Running playbook: ${playbooks[$selected_index]} failed" >> "$log_path"
	;;
    esac
}

log_actions() {
    log_exists && log_write "$1"
}


run_ping() {
    ansible all -m ping && log_actions "ping" || log_actions "fail"
}

run_playbook() {
    echo -e "${CYAN}What playbook would you like to run?${NC}"
    read -r selected_index
    check_if_flags
    ansible-playbook -i hosts.yml "${playbooks[$selected_index]}" --ask-become-pass -v && log_actions "scs" || log_actions "fail"
}

playbook_actions() {
# Is always executed
find_playbook

if [ "$1" = "run" ]; then
    run_playbook
fi

}

ansible_deploy() {
    check_installed "ansible" || exit 1

    echo
    echo "Welcome to the AFM - Ansible Fast Management"
    echo "What would you like to do?"
    echo
    echo "> [1] Run Playbook (with Flags)"
    echo "> [2] Test Connection (Ping Hosts)"
    echo "> [3] View Inventory"
    echo "> [4] View Last Run Log"
    echo "> [5] Exit"
    echo

    read -r option

    if printf -- '%d' "${option}" > /dev/null 2>&1; then
	case "${option}" in
	    1)
		playbook_actions "run"
		;;
	    2)
		run_ping
		;;
	    3)
		playbook_actions
	        ;;
	    4)
                log_file="$HOME/.log/afmrun.log"

		if [ -f "$log_file" ]; then
		    echo
		    echo -e "${YELLOW}üìÑ Showing Ansible log: $log_file.${NC}"
		    echo
		    tail -n 50 "$log_file"
            	else
                    echo -e "${RED}‚ö†Ô∏è  nAnsible log found at $log_file.${NC}"
            	fi
                ;;
	    5)
                ;;
	    *)
		echo "Unsupported option"
		;;
	esac
    else
	echo "Unsupported option"
    fi
}

main() {
    show_banner
    det_release
    echo

	# Parse command-line flags
	case "$1" in
	    -aud|--apt-update)
		apt_update
		;;
	    -aur|--system-upgrade)
		apt_upgrade
		;;
	    -arm|--apt-autoremove)
		apt_autorm
		;;
	    -acl|--apt-autoclean)
		apt_autocls
		;;
	    -fu|--full-upgrade)
		full_upgrade
		;;
	    -dur|--dist-upgrade)
		dist_upgrade
		;;
	    -ai|--apt-install)
		shift
		if [ $# -eq 0 ]; then
		    echo -e "${RED}‚ùå No packages specified to install.${NC}"
		    exit 1
		fi

		for package in "$@"; do
		    install_package "$package"
		done
		;;
	    -arp|--apt-remove)
		shift
		if [ $# -eq 0 ]; then
		    echo -e "${RED}‚ùå No packages specified to remove.${NC}"
                    exit 1
		fi

		for package in "$@"; do
		    remove_package "$package"
		done
		;;
	    -ap|--apt-purge)
                shift
                if [ $# -eq 0 ]; then
                    echo -e "${RED}‚ùå No packages specified to purge.${NC}"
                    exit 1
                fi

                for package in "$@"; do
                    purge_package "$package"
                done
                ;;
	    -as|--apt-search)
		shift
		if [ $# -eq 0 ]; then
		    echo -e "${RED}‚ùå No packages specified to search.${NC}"
		    exit 1
		fi

		for term in "$@"; do
		    search_package "$term"
		done
		;;
	    -A|--ansible)
		ansible_deploy
		;;
	    -h|--help)
		echo
		echo "Usage: robohelp [option]"
		echo "	-aud, --apt-update	[1] Update APT Repositories"
		echo "	-aur, --apt-upgrade 	[1] Upgrade installed packages"
		echo "	-arm, --apt-autoremove  [1] Remove unnecessary packages"
		echo "	-acl, --apt-autoclean	[1] Clean up local repository"
		echo "	-fu,  --full-upgrade	Run full system upgrade with options from [1]"
		echo
		echo "	-dur, --dist-upgrade	Run distribution update for system"
		echo
		echo "	-ai,  --apt-install 	<name>	Install package via apt"
		echo "	-as,  --apt-search 	<name>	Search package in repository"
		echo " 	-arp, --apt-remove	<name>	Remove package from system"
		echo "	-ap,  --apt-purge	<name>	Remove package with all its dependencies"
		echo
		echo "	-A,   --ansible		Ansible Management"
		echo "	-h,   --help		Show this help message"
		;;
	    *)
		echo
		echo "Unknown or no flag provided. Try -h for help."
		;;
	esac
}

# Call the main function
main "$@"
